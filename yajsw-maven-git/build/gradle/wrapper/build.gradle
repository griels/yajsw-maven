projectHome = '../../..'

// set the sources for this build
sourceSets.main.java.srcDirs = ["$projectHome/src/main/java", "$projectHome/src/app/java"]
sourceSets.main.resources.srcDirs = ["$projectHome/src/main/java"]
sourceSets.main.resources.includes  = ['resources/*']

// this project uses the ahessian sub-project
dependencies {
    compile project(':ahessian')
}

dependencies {
    compile group: 'commons-cli', 				name: 'commons-cli', 							version: '2-SNAPSHOT'
//    compile group: 'commons-codec', 			name: 'commons-codec', 						version: '1.3'
    compile group: 'commons-collections', name: 'commons-collections', 			version: '3.2'
    compile group: 'commons-configuration', name: 'commons-configuration', 	version: '1.7-SNAPSHOT'
//    compile group: 'commons-httpclient', 	name: 'commons-httpclient', 			version: '3.0.1'
    compile group: 'commons-io', 					name: 'commons-io', 							version: '1.3.1'
//    compile group: 'commons-jexl', 				name: 'commons-jexl', 						version: '1.1'
    compile group: 'commons-lang', 				name: 'commons-lang', 						version: '2.4'
    compile group: 'commons-logging', 		name: 'commons-logging', 					version: '1.1'
//    compile group: 'commons-net', 				name: 'commons-net', 							version: '1.4.1'
    compile group: 'commons-vfs', 				name: 'commons-vfs', 							version: '2.0-SNAPSHOT'
    compile group: 'groovy-all', 					name: 'groovy-all', 							version: '1.8.6'
    compile group: 'jna', 								name: 'jna', 											version: '3.4.0'
    compile group: 'platform', 						name: 'platform', 								version: '3.4.0'
    compile group: 'netty', 							name: 'netty', 										version: '3.3.1.Final'
    compile group: 'jrexx', 							name: 'jrexx', 										version: '1.1.1'
    compile group: 'quartz', 							name: 'quartz', 									version: '1.8.0'
    compile group: 'abeille', 						name: 'formsrt', 									version: ''
    compile group: 'forms', 							name: 'forms', 										version: '1.2.0'
    compile group: 'velocity', 						name: 'velocity', 								version: '1.6.3'
}

//println '---------------------------'
//println 'dependency jars:'
//println '---------------------------'
//configurations.compile.each { File file -> println file.absolutePath }
//println '---------------------------'

// name of jar file
jar.baseName = 'wrapper'

// TODO generate manifest instead of editing
jar {
    manifest {
        from '../../MANIFEST.MF'
    }
    exclude 'org/rzo/yajsw/app/AbstractWrapperJVMMain*'
    exclude 'org/rzo/yajsw/app/WrapperGroovyMain*'
    exclude 'org/rzo/yajsw/app/WrapperJVMMain*'
    exclude 'org/rzo/yajsw/app/WrapperMainServiceUnix*'
    exclude 'org/rzo/yajsw/app/WrapperMainServiceWin*'
    exclude 'org/rzo/yajsw/app/WrapperManager.class'
    exclude 'org/rzo/yajsw/app/WrapperManagerClassLoader*'
    exclude 'org/rzo/yajsw/app/WrapperManagerProxy*'
}
